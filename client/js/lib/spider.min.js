window.spider=function(){var execute=document.currentScript.getAttribute("data-execute"),basePath=execute.slice(0,execute.lastIndexOf("/")+1),executeOnReady=execute.slice(execute.lastIndexOf("/")+1),registry={},build=function(relativePath){var module=registry[relativePath],require=function(path){return registry[sanitizePath(module.parentDirectory,path)].exports};module.exports=module.constructor(require)},define=function(constructor){var relativePath=getRelativePath(document.currentScript.src),parentDirectory=relativePath.slice(0,relativePath.lastIndexOf("/")+1),dependencies=getDependencies(parentDirectory,constructor);registry[relativePath].constructor=constructor;registry[relativePath].dependencies=dependencies;registry[relativePath].parentDirectory=parentDirectory;for(var i=0;i<dependencies.length;i++){if(!(dependencies[i]in registry)){registry[dependencies[i]]={importedBy:[],ready:false};load(dependencies[i])}registry[dependencies[i]].importedBy.push(relativePath)}propagateReadiness(relativePath)},getDependencies=function(parentDirectory,constructor){var match,dependencies=[],constructorString=constructor.toString(),regex=/require\('([\.\w\/]*)'\)/g;while(match=regex.exec(constructorString))dependencies.push(sanitizePath(parentDirectory,match[1]));return dependencies},getRelativePath=function(fullPath){return fullPath.slice(fullPath.lastIndexOf(basePath)+basePath.length,fullPath.lastIndexOf("."))},isReady=function(relativePath){var dependencies=registry[relativePath].dependencies;for(var i=0;i<dependencies.length;i++)if(!registry[dependencies[i]].ready)return false;return true},load=function(relativePath){var script=document.createElement("script");script.src=basePath+relativePath+".js";script.addEventListener("load",function(){script.parentNode.removeChild(script)});document.body.appendChild(script)},propagateReadiness=function(relativePath){var module=registry[relativePath];module.ready=isReady(relativePath);if(module.ready){build(relativePath);for(var i=0;i<module.importedBy.length;i++)propagateReadiness(module.importedBy[i])}},sanitizePath=function(parentDirectory,relativePath){return parentDirectory+relativePath.replace("./","")};registry[executeOnReady]={importedBy:[],ready:false};load(executeOnReady);return{define:define}}();
